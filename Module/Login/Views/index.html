<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PriceTracker</title>
  <link href="../css/bootstrap.min.css" rel="stylesheet">
  <link rel="shortcut icon" href="../images/pricetracker logo.ico" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <style>
    .product-card {
      transition: box-shadow 0.3s, transform 0.3s;
      cursor: pointer;
    }
    .product-card:hover {
      box-shadow: 0 8px 24px rgba(0,0,0,0.18), 0 1.5px 6px rgba(0,0,0,0.15);
      transform: translateY(-5px) scale(1.03);
      border-color: #000000;
    }
    .product-card .card-title {
      color: #000000;
      font-weight: bold;
    }
    .product-card .card-link {
      color: #000000;
    }
  </style>
  <nav class="navbar navbar-expand-lg bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">PriceTracker</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="index.html">Inicio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="wishlist.html">Lista de Deseos</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Categorias
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="productos_limpieza.html">Productos de limpieza</a></li>
            <li><a class="dropdown-item" href="tecnologia.html">Tecnologia</a></li>
            <li><a class="dropdown-item" href="ropa_y_moda.html">Ropa y moda</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="otros.html">Otros</a></li>
          </ul>
        </li>

      </ul>
      <form class="d-flex" role="search">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Buscar</button>
      </form>
      <div class="dropdown ms-3">
        <button class="btn btn-outline-primary dropdown-toggle" type="button" id="userMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person-circle"></i> Usuario
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userMenuButton">
          <li><a class="dropdown-item" href="#">Gestionar datos personales</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item text-danger" href="Login.html">Logout</a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>
</head>
<body>


<div class="alert alert-danger" role="alert">
    Por el momento no contamos con el sistema abierto, disculpa las molestias
</div>

<div class="d-flex flex-row gap-4 justify-content-center my-4">
  <!-- iPhone 16 Card -->
  <div class="card product-card" style="width: 18rem;">
    <img src="../images/iphone16.jpg" class="card-img-top" alt="iPhone 16">
    <div class="card-body">
      <h5 class="card-title">iPhone 16</h5>
      <p class="card-text">El último modelo de iPhone con tecnología avanzada.</p>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">Ebay: $1,200</li>
      <li class="list-group-item">Mercado Libre: $1,250</li>
      <li class="list-group-item">Amazon: $1,180</li>
    </ul>
    <div class="card-body d-flex justify-content-between">
      <button class="btn btn-outline-success btn-sm" 
        onclick="showDetails('iPhone 16', 'El último modelo de iPhone con tecnología avanzada.', '../images/iphone16.jpg', ['Ebay: $1,200', 'Mercado Libre: $1,250', 'Amazon: $1,180'])">
        Ver detalles
      </button>
      <button class="btn btn-outline-secondary btn-sm" onclick="addToWishlist('iPhone 16')">
        Agregar a la lista de deseos
      </button>
    </div>
  </div>

  <!-- Samsung S23 Card -->
  <div class="card product-card" style="width: 18rem;">
    <img src="../images/SSAMS928B1TGTLIBA_l.jpg" class="card-img-top" alt="Samsung S23">
    <div class="card-body">
      <h5 class="card-title">Samsung S23</h5>
      <p class="card-text">Smartphone de alta gama con excelente cámara y batería.</p>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">Ebay: $950</li>
      <li class="list-group-item">Mercado Libre: $970</li>
      <li class="list-group-item">Amazon: $940</li>
    </ul>
    <div class="card-body d-flex justify-content-between">
      <button class="btn btn-outline-success btn-sm" 
        onclick="showDetails('Samsung S23', 'Smartphone de alta gama con excelente cámara y batería.', '../images/SSAMS928B1TGTLIBA_l.jpg', ['Ebay: $950', 'Mercado Libre: $970', 'Amazon: $940'])">
        Ver detalles
      </button>
      <button class="btn btn-outline-secondary btn-sm" onclick="addToWishlist('Samsung S23')">
        Agregar a la lista de deseos
      </button>
    </div>
  </div>
</div>

<!-- Modal Detalles -->
<div class="modal fade" id="detailsModal" tabindex="-1" aria-labelledby="detailsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="detailsModalLabel"></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <img id="detailsImage" src="" alt="" class="img-fluid mb-3" />
        <p id="detailsDesc"></p>
        <ul id="detailsPrices"></ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>

<!-- Alerta personalizada -->
<div id="wishlistAlert" class="alert alert-success alert-dismissible fade show position-fixed top-0 end-0 m-4" style="display:none; z-index:1055;" role="alert">
  <span id="wishlistAlertMsg"></span>
  <button type="button" class="btn-close" onclick="hideWishlistAlert()"></button>
</div>

<script>
  // Mostrar detalles en el modal
  function showDetails(title, desc, img, prices) {
    document.getElementById('detailsModalLabel').textContent = title;
    document.getElementById('detailsDesc').textContent = desc;
    document.getElementById('detailsImage').src = img;
    document.getElementById('detailsImage').alt = title;
    const ul = document.getElementById('detailsPrices');
    ul.innerHTML = '';
    prices.forEach(p => {
      const li = document.createElement('li');
      li.textContent = p;
      ul.appendChild(li);
    });
    const modal = new bootstrap.Modal(document.getElementById('detailsModal'));
    modal.show();
  }

  // Alerta para wishlist
  function addToWishlist(product) {
  // Datos de productos
  const products = {
    "iPhone 16": {
      title: "iPhone 16",
      desc: "El último modelo de iPhone con tecnología avanzada.",
      img: "../images/iphone16.jpg",
      prices: ["Ebay: $1,200", "Mercado Libre: $1,250", "Amazon: $1,180"]
    },
    "Samsung S23": {
      title: "Samsung S23",
      desc: "Smartphone de alta gama con excelente cámara y batería.",
      img: "../images/SSAMS928B1TGTLIBA_l.jpg",
      prices: ["Ebay: $950", "Mercado Libre: $970", "Amazon: $940"]
    }
  };
  // Guardar en localStorage
  let wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
  if (!wishlist.find(p => p.title === product)) {
    wishlist.push(products[product]);
    localStorage.setItem('wishlist', JSON.stringify(wishlist));
  }
  // Mostrar alerta
  document.getElementById('wishlistAlertMsg').textContent = `"${product}" se agregó a la lista de deseos.`;
  const alertDiv = document.getElementById('wishlistAlert');
  alertDiv.style.display = 'block';
  setTimeout(() => { alertDiv.style.display = 'none'; }, 2500);
}
  function hideWishlistAlert() {
    document.getElementById('wishlistAlert').style.display = 'none';
  }
</script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" media="all" href="../css/style.css" />

</body>
</html>
